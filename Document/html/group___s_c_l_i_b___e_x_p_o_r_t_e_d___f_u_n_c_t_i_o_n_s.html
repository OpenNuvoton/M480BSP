<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>M480 BSP: Smartcard Library Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="m4.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">M480 BSP<span id="projectnumber">&#160;V3.0.7000</span>
   </div>
   <div id="projectbrief">The Board Support Package for M480 Series</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Smartcard Library Exported Functions<div class="ingroups"><a class="el" href="group___l_i_b_r_a_r_y.html">Library</a> &raquo; <a class="el" href="group___s_c_l_i_b.html">Smartcard Library</a> &raquo; <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html">Smartcard Library Exported Constants</a> &raquo; <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___s_t_r_u_c_t_s.html">Smartcard Library Exported Structs</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabb70ec55d6f58ee4286fc3272b9f7a4b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> (uint32_t num, uint32_t u32EMVCheck)</td></tr>
<tr class="memdesc:gabb70ec55d6f58ee4286fc3272b9f7a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate a smartcard.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">More...</a><br /></td></tr>
<tr class="separator:gabb70ec55d6f58ee4286fc3272b9f7a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c6f434ac0e08d9a2a4c25e42e9d91cc"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">SCLIB_ActivateDelay</a> (uint32_t num, uint32_t u32EMVCheck, uint32_t u32Delay)</td></tr>
<tr class="memdesc:ga7c6f434ac0e08d9a2a4c25e42e9d91cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate a smartcard with large delay between set VCC high and start CLK output.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">More...</a><br /></td></tr>
<tr class="separator:ga7c6f434ac0e08d9a2a4c25e42e9d91cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae308ef6ac6809fd3cf8535f617ba280c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gae308ef6ac6809fd3cf8535f617ba280c">SCLIB_ColdReset</a> (uint32_t num)</td></tr>
<tr class="memdesc:gae308ef6ac6809fd3cf8535f617ba280c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cold reset a smartcard.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gae308ef6ac6809fd3cf8535f617ba280c">More...</a><br /></td></tr>
<tr class="separator:gae308ef6ac6809fd3cf8535f617ba280c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd3bacc5128a7ce612a6781f7f44d49c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gadd3bacc5128a7ce612a6781f7f44d49c">SCLIB_WarmReset</a> (uint32_t num)</td></tr>
<tr class="memdesc:gadd3bacc5128a7ce612a6781f7f44d49c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Warm reset a smartcard.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gadd3bacc5128a7ce612a6781f7f44d49c">More...</a><br /></td></tr>
<tr class="separator:gadd3bacc5128a7ce612a6781f7f44d49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa04a140bba7b6392d9ca01833d74f8b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gaa04a140bba7b6392d9ca01833d74f8b6">SCLIB_Deactivate</a> (uint32_t num)</td></tr>
<tr class="memdesc:gaa04a140bba7b6392d9ca01833d74f8b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate a smartcard.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gaa04a140bba7b6392d9ca01833d74f8b6">More...</a><br /></td></tr>
<tr class="separator:gaa04a140bba7b6392d9ca01833d74f8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7143f2e0b766a7be1884020ef5798ce"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gac7143f2e0b766a7be1884020ef5798ce">SCLIB_GetCardInfo</a> (uint32_t num, <a class="el" href="struct_s_c_l_i_b___c_a_r_d___i_n_f_o___t.html">SCLIB_CARD_INFO_T</a> *s_info)</td></tr>
<tr class="memdesc:gac7143f2e0b766a7be1884020ef5798ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the card information (e.g., protocol selected, ATR...) after activation success.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gac7143f2e0b766a7be1884020ef5798ce">More...</a><br /></td></tr>
<tr class="separator:gac7143f2e0b766a7be1884020ef5798ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad36d1c312fd93f25445a44a6f1b9363d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gad36d1c312fd93f25445a44a6f1b9363d">SCLIB_StartTransmission</a> (uint32_t num, uint8_t *cmdBuf, uint32_t cmdLen, uint8_t *rspBuf, uint32_t *rspLen)</td></tr>
<tr class="memdesc:gad36d1c312fd93f25445a44a6f1b9363d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a smartcard transmission.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gad36d1c312fd93f25445a44a6f1b9363d">More...</a><br /></td></tr>
<tr class="separator:gad36d1c312fd93f25445a44a6f1b9363d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1586bc952411d6a6b162acabc1db94a6"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1586bc952411d6a6b162acabc1db94a6">SCLIB_SetIFSD</a> (uint32_t num, uint8_t size)</td></tr>
<tr class="memdesc:ga1586bc952411d6a6b162acabc1db94a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set interface device max information field size (IFSD)  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1586bc952411d6a6b162acabc1db94a6">More...</a><br /></td></tr>
<tr class="separator:ga1586bc952411d6a6b162acabc1db94a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92918328b8900b980f975f76d9f9395f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="retarget_8c.html#ac607bf387b29162be6a9b77fc7999539">__WEAK</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga92918328b8900b980f975f76d9f9395f">SCLIB_RequestTimeExtension</a> (uint32_t u32Protocol)</td></tr>
<tr class="memdesc:ga92918328b8900b980f975f76d9f9395f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback called by library while smartcard request for a time extension.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga92918328b8900b980f975f76d9f9395f">More...</a><br /></td></tr>
<tr class="separator:ga92918328b8900b980f975f76d9f9395f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga550d72b74b7c55e903ff74fabd8c7019"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga550d72b74b7c55e903ff74fabd8c7019">SCLIB_CheckCDEvent</a> (uint32_t num)</td></tr>
<tr class="memdesc:ga550d72b74b7c55e903ff74fabd8c7019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process card detect event in IRQ handler.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga550d72b74b7c55e903ff74fabd8c7019">More...</a><br /></td></tr>
<tr class="separator:ga550d72b74b7c55e903ff74fabd8c7019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf833db82065ae92a02d10cd51eeac446"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gaf833db82065ae92a02d10cd51eeac446">SCLIB_CheckTimeOutEvent</a> (uint32_t num)</td></tr>
<tr class="memdesc:gaf833db82065ae92a02d10cd51eeac446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process time out event in IRQ handler.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gaf833db82065ae92a02d10cd51eeac446">More...</a><br /></td></tr>
<tr class="separator:gaf833db82065ae92a02d10cd51eeac446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc614ae52055d0af1ecbd9416976c276"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gadc614ae52055d0af1ecbd9416976c276">SCLIB_CheckTxRxEvent</a> (uint32_t num)</td></tr>
<tr class="memdesc:gadc614ae52055d0af1ecbd9416976c276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process card transmission event in IRQ handler.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gadc614ae52055d0af1ecbd9416976c276">More...</a><br /></td></tr>
<tr class="separator:gadc614ae52055d0af1ecbd9416976c276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36ecb4214440705a023114a3a1b9a6fc"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga36ecb4214440705a023114a3a1b9a6fc">SCLIB_CheckErrorEvent</a> (uint32_t num)</td></tr>
<tr class="memdesc:ga36ecb4214440705a023114a3a1b9a6fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process error event in IRQ handler.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga36ecb4214440705a023114a3a1b9a6fc">More...</a><br /></td></tr>
<tr class="separator:ga36ecb4214440705a023114a3a1b9a6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88f5d3c23a63490770886e1e7dd34774"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga88f5d3c23a63490770886e1e7dd34774">SCLIB_ResetAnyway</a> (uint32_t num)</td></tr>
<tr class="memdesc:ga88f5d3c23a63490770886e1e7dd34774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate a smartcard without historical bytes check, this function can be called if <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">SCLIB_ActivateDelay</a> return an error.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga88f5d3c23a63490770886e1e7dd34774">More...</a><br /></td></tr>
<tr class="separator:ga88f5d3c23a63490770886e1e7dd34774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1547dcc5ad0504b593819c8ac3c468af"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1547dcc5ad0504b593819c8ac3c468af">SCLIB_SetSpecificAtrBR</a> (uint32_t num, uint32_t br)</td></tr>
<tr class="memdesc:ga1547dcc5ad0504b593819c8ac3c468af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a specific baud rate to catch ATR for a card which is not compatible with ISO-7816, this function should be called before <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">SCLIB_ActivateDelay</a>.  <a href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1547dcc5ad0504b593819c8ac3c468af">More...</a><br /></td></tr>
<tr class="separator:ga1547dcc5ad0504b593819c8ac3c468af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga0994b8d92dadc1ca0864e0093ce03a81"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga0994b8d92dadc1ca0864e0093ce03a81">SCLIB_CARD_INFO_T::T</a></td></tr>
<tr class="separator:ga0994b8d92dadc1ca0864e0093ce03a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae888a7b4d9e7d8b69d75d34e283453db"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gae888a7b4d9e7d8b69d75d34e283453db">SCLIB_CARD_INFO_T::ATR_Len</a></td></tr>
<tr class="separator:gae888a7b4d9e7d8b69d75d34e283453db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72d0445931ac9c168004661d4156897e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga72d0445931ac9c168004661d4156897e">SCLIB_CARD_INFO_T::ATR_Buf</a> [<a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gaa7f3f1bc4269ed63239302e94d200611">SCLIB_MAX_ATR_LEN</a>]</td></tr>
<tr class="separator:ga72d0445931ac9c168004661d4156897e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabb70ec55d6f58ee4286fc3272b9f7a4b" name="gabb70ec55d6f58ee4286fc3272b9f7a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb70ec55d6f58ee4286fc3272b9f7a4b">&#9670;&nbsp;</a></span>SCLIB_Activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_Activate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32EMVCheck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate a smartcard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32EMVCheck</td><td>Enable EMV error check or not. Valid setting are <a class="el" href="group___legacy___constants.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> and <a class="el" href="group___legacy___constants.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>. By enable EMV error checking, this library will perform ATR checking according to EMV book 1 specification. Otherwise, the error checking follows ISO 7816-3 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard successfully activated or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard activated successfully </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard activation failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is required to set smartcard interface clock between 1 MHz and 5 MHz before calling this API, otherwise this API return with <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#ga5728870d0f41ac134b17e54ee3be4a3b">SCLIB_ERR_CLOCK</a> error code. </dd>
<dd>
EMV book 1 is stricter than ISO-7816 on ATR checking. Enable EMV check iff the application supports EMV cards only. </dd>
<dd>
If EMVCheck is set <a class="el" href="group___legacy___constants.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, this API will call <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1586bc952411d6a6b162acabc1db94a6">SCLIB_SetIFSD</a> to set IFSD if necessary. </dd></dl>

</div>
</div>
<a id="ga7c6f434ac0e08d9a2a4c25e42e9d91cc" name="ga7c6f434ac0e08d9a2a4c25e42e9d91cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">&#9670;&nbsp;</a></span>SCLIB_ActivateDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_ActivateDelay </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32EMVCheck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32Delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate a smartcard with large delay between set VCC high and start CLK output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32EMVCheck</td><td>Enable EMV error check or not. Valid setting are <a class="el" href="group___legacy___constants.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> and <a class="el" href="group___legacy___constants.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>. By enable EMV error checking, this library will perform ATR checking according to EMV book 1 specification. Otherwise, the error checking follows ISO 7816-3 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Delay</td><td>Extra delay time between set VCC high and start CLK output, using ETU as time unit. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard successfully activated or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard activated successfully </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard activation failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is required to set smartcard interface clock between 1 MHz and 5 MHz before calling this API, otherwise this API return with <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#ga5728870d0f41ac134b17e54ee3be4a3b">SCLIB_ERR_CLOCK</a> error code. </dd>
<dd>
EMV book 1 is stricter than ISO-7816 on ATR checking. Enable EMV check iff the application supports EMV cards only. </dd>
<dd>
If EMVCheck is set <a class="el" href="group___legacy___constants.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, this API will call <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga1586bc952411d6a6b162acabc1db94a6">SCLIB_SetIFSD</a> to set IFSD if necessary. </dd>
<dd>
Only use this function instead of <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> if there's large capacitor on VCC pin and VCC raise slowly. </dd></dl>

</div>
</div>
<a id="ga550d72b74b7c55e903ff74fabd8c7019" name="ga550d72b74b7c55e903ff74fabd8c7019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga550d72b74b7c55e903ff74fabd8c7019">&#9670;&nbsp;</a></span>SCLIB_CheckCDEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CheckCDEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process card detect event in IRQ handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Card detect event occur or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Card detect event occurred </td></tr>
    <tr><td class="paramname">0</td><td>Card detect event did not occur </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Smartcard IRQ handler shall call this function with correct interface number as parameter </dd></dl>

</div>
</div>
<a id="ga36ecb4214440705a023114a3a1b9a6fc" name="ga36ecb4214440705a023114a3a1b9a6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36ecb4214440705a023114a3a1b9a6fc">&#9670;&nbsp;</a></span>SCLIB_CheckErrorEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CheckErrorEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process error event in IRQ handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error event occur or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Error event occurred </td></tr>
    <tr><td class="paramname">0</td><td>Error event did not occur </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Smartcard IRQ handler shall call this function with correct interface number as parameter </dd></dl>

</div>
</div>
<a id="gaf833db82065ae92a02d10cd51eeac446" name="gaf833db82065ae92a02d10cd51eeac446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf833db82065ae92a02d10cd51eeac446">&#9670;&nbsp;</a></span>SCLIB_CheckTimeOutEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CheckTimeOutEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process time out event in IRQ handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time out event occur or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Time out event occurred </td></tr>
    <tr><td class="paramname">0</td><td>Time out event did not occur </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Smartcard IRQ handler shall call this function with correct interface number as parameter </dd></dl>

</div>
</div>
<a id="gadc614ae52055d0af1ecbd9416976c276" name="gadc614ae52055d0af1ecbd9416976c276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc614ae52055d0af1ecbd9416976c276">&#9670;&nbsp;</a></span>SCLIB_CheckTxRxEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CheckTxRxEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process card transmission event in IRQ handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Transmission event occur or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Transmission event occurred </td></tr>
    <tr><td class="paramname">0</td><td>Transmission event did not occur </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Smartcard IRQ handler shall call this function with correct interface number as parameter </dd></dl>

</div>
</div>
<a id="gae308ef6ac6809fd3cf8535f617ba280c" name="gae308ef6ac6809fd3cf8535f617ba280c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae308ef6ac6809fd3cf8535f617ba280c">&#9670;&nbsp;</a></span>SCLIB_ColdReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_ColdReset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cold reset a smartcard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard cold reset success or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard cold reset success </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard cold reset failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa04a140bba7b6392d9ca01833d74f8b6" name="gaa04a140bba7b6392d9ca01833d74f8b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa04a140bba7b6392d9ca01833d74f8b6">&#9670;&nbsp;</a></span>SCLIB_Deactivate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SCLIB_Deactivate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivate a smartcard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="gac7143f2e0b766a7be1884020ef5798ce" name="gac7143f2e0b766a7be1884020ef5798ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7143f2e0b766a7be1884020ef5798ce">&#9670;&nbsp;</a></span>SCLIB_GetCardInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_GetCardInfo </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_c_l_i_b___c_a_r_d___i_n_f_o___t.html">SCLIB_CARD_INFO_T</a> *&#160;</td>
          <td class="paramname"><em>s_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the card information (e.g., protocol selected, ATR...) after activation success. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">s_info</td><td>A pointer to <a class="el" href="struct_s_c_l_i_b___c_a_r_d___i_n_f_o___t.html">SCLIB_CARD_INFO_T</a> holds the card information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Success, s_info contains card information </td></tr>
    <tr><td class="paramname">SCLIB_ERR_CARD_REMOVED</td><td>Card removed, s_info does not contains card information </td></tr>
    <tr><td class="paramname">SCLIB_ERR_DEACTIVE</td><td>Card is deactivated, s_info does not contains card information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga92918328b8900b980f975f76d9f9395f" name="ga92918328b8900b980f975f76d9f9395f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92918328b8900b980f975f76d9f9395f">&#9670;&nbsp;</a></span>SCLIB_RequestTimeExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="retarget_8c.html#ac607bf387b29162be6a9b77fc7999539">__WEAK</a> void SCLIB_RequestTimeExtension </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32Protocol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback called by library while smartcard request for a time extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Protocol</td><td>What protocol the card is using while it requested for a time extension. Could be ether <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#ga55cce06161110dc2a75423459dff8392">SCLIB_PROTOCOL_T0</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gaceb47970d665912809b843c7adb9dd28">SCLIB_PROTOCOL_T1</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is defined with __weak attribute and does nothing in library. Application can provide its own time extension function. For example, and CCID reader can use this function to report this status to PC. See CCID rev 1.1 Table 6.2-3 </dd></dl>

</div>
</div>
<a id="ga88f5d3c23a63490770886e1e7dd34774" name="ga88f5d3c23a63490770886e1e7dd34774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88f5d3c23a63490770886e1e7dd34774">&#9670;&nbsp;</a></span>SCLIB_ResetAnyway()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_ResetAnyway </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate a smartcard without historical bytes check, this function can be called if <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">SCLIB_ActivateDelay</a> return an error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard reset success or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard reset success </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard reset failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1586bc952411d6a6b162acabc1db94a6" name="ga1586bc952411d6a6b162acabc1db94a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1586bc952411d6a6b162acabc1db94a6">&#9670;&nbsp;</a></span>SCLIB_SetIFSD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_SetIFSD </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set interface device max information field size (IFSD) </p>
<p >This function sends S block to notify card about the max size of information filed blocks that can be received by the interface device. According to EMV 9.2.4.3, this should be the first block transmitted by terminal to ICC after ATR. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>IFSD size. According to EMV spec 9.2.4.3 Error Free Operation, this field must be 0xFE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard transmission success or failed </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard warm reset success </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard warm reset failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1547dcc5ad0504b593819c8ac3c468af" name="ga1547dcc5ad0504b593819c8ac3c468af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1547dcc5ad0504b593819c8ac3c468af">&#9670;&nbsp;</a></span>SCLIB_SetSpecificAtrBR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_SetSpecificAtrBR </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>br</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a specific baud rate to catch ATR for a card which is not compatible with ISO-7816, this function should be called before <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#gabb70ec55d6f58ee4286fc3272b9f7a4b">SCLIB_Activate</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___f_u_n_c_t_i_o_n_s.html#ga7c6f434ac0e08d9a2a4c25e42e9d91cc">SCLIB_ActivateDelay</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">br</td><td>ATR default baud rate should be 9600 according to ISO-7816 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Baud rate set success or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>set ATR baud rate success </td></tr>
    <tr><td class="paramname">Others</td><td>set ATR baud rate failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad36d1c312fd93f25445a44a6f1b9363d" name="gad36d1c312fd93f25445a44a6f1b9363d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad36d1c312fd93f25445a44a6f1b9363d">&#9670;&nbsp;</a></span>SCLIB_StartTransmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_StartTransmission </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmdBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmdLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rspBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>rspLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a smartcard transmission. </p>
<p >SCLIB will start a transmission according to the protocol selected </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmdBuf</td><td>Command buffer pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmdLen</td><td>Command length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rspBuf</td><td>Buffer to holds card response </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rspLen</td><td>Response length received </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard transmission success or failed </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Transmission success. rspBuf and rspLen holds response data and length </td></tr>
    <tr><td class="paramname">Others</td><td>Transmission failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API supports case 1, 2S, 3S, and 4S defined in ISO-7816, but does <b>NOT</b> support case 2E, 3E, and 4E. </dd></dl>

</div>
</div>
<a id="gadd3bacc5128a7ce612a6781f7f44d49c" name="gadd3bacc5128a7ce612a6781f7f44d49c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd3bacc5128a7ce612a6781f7f44d49c">&#9670;&nbsp;</a></span>SCLIB_WarmReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SCLIB_WarmReset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Warm reset a smartcard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Smartcard interface number. From 0 ~ ( <a class="el" href="group___s_c___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gab1a473b529ef7082465c9a36b4be3472">SC_INTERFACE_NUM</a> - 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smartcard warm reset success or not </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SCLIB_SUCCESS</td><td>Smartcard warm reset success </td></tr>
    <tr><td class="paramname">Others</td><td>Smartcard warm reset failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga72d0445931ac9c168004661d4156897e" name="ga72d0445931ac9c168004661d4156897e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72d0445931ac9c168004661d4156897e">&#9670;&nbsp;</a></span>ATR_Buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SCLIB_CARD_INFO_T::ATR_Buf[<a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gaa7f3f1bc4269ed63239302e94d200611">SCLIB_MAX_ATR_LEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Buffer holds ATR answered by smartcard. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="sclib_8h_source.html#l00094">94</a> of file <a class="el" href="sclib_8h_source.html">sclib.h</a>.</p>

</div>
</div>
<a id="gae888a7b4d9e7d8b69d75d34e283453db" name="gae888a7b4d9e7d8b69d75d34e283453db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae888a7b4d9e7d8b69d75d34e283453db">&#9670;&nbsp;</a></span>ATR_Len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CARD_INFO_T::ATR_Len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >ATR length, between SCLIB_MAX_ATR_LEN and SCLIB_MIN_ATR_LEN. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="sclib_8h_source.html#l00093">93</a> of file <a class="el" href="sclib_8h_source.html">sclib.h</a>.</p>

</div>
</div>
<a id="ga0994b8d92dadc1ca0864e0093ce03a81" name="ga0994b8d92dadc1ca0864e0093ce03a81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0994b8d92dadc1ca0864e0093ce03a81">&#9670;&nbsp;</a></span>T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SCLIB_CARD_INFO_T::T</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Protocol, ether <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#ga55cce06161110dc2a75423459dff8392">SCLIB_PROTOCOL_T0</a> or <a class="el" href="group___s_c_l_i_b___e_x_p_o_r_t_e_d___c_o_n_s_t_a_n_t_s.html#gaceb47970d665912809b843c7adb9dd28">SCLIB_PROTOCOL_T1</a>. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="sclib_8h_source.html#l00092">92</a> of file <a class="el" href="sclib_8h_source.html">sclib.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 18 2025 10:07:23 for M480 BSP by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
