<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>M480 BSP: OTG_T Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="m4.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">M480 BSP<span id="projectnumber">&#160;V3.0.7000</span>
   </div>
   <div id="projectbrief">The Board Support Package for M480 Series</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">OTG_T Struct Reference<div class="ingroups"><a class="el" href="group___r_e_g_i_s_t_e_r.html">Control Register</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aa8201e580db95e160e981fa672720f7e"><td class="memItemLeft" align="right" valign="top">__IO uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_g___t.html#aa8201e580db95e160e981fa672720f7e">CTL</a></td></tr>
<tr class="separator:aa8201e580db95e160e981fa672720f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15859fd42ac83454dea02717824ab1f"><td class="memItemLeft" align="right" valign="top">__IO uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_g___t.html#ad15859fd42ac83454dea02717824ab1f">PHYCTL</a></td></tr>
<tr class="separator:ad15859fd42ac83454dea02717824ab1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3147fae693f8959bf4c0fad5fda4469"><td class="memItemLeft" align="right" valign="top">__IO uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_g___t.html#aa3147fae693f8959bf4c0fad5fda4469">INTEN</a></td></tr>
<tr class="separator:aa3147fae693f8959bf4c0fad5fda4469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c890b82ada7d4f82e7432e898009eff"><td class="memItemLeft" align="right" valign="top">__IO uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_g___t.html#a4c890b82ada7d4f82e7432e898009eff">INTSTS</a></td></tr>
<tr class="separator:a4c890b82ada7d4f82e7432e898009eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192b93dd7aee7289b5e0ccb39bb3038f"><td class="memItemLeft" align="right" valign="top">__I uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_g___t.html#a192b93dd7aee7289b5e0ccb39bb3038f">STATUS</a></td></tr>
<tr class="separator:a192b93dd7aee7289b5e0ccb39bb3038f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@addtogroup OTG USB On-The-Go Controller(OTG)
Memory Mapped Structure for OTG Controller
</pre> 
<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00026">26</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="aa8201e580db95e160e981fa672720f7e" name="aa8201e580db95e160e981fa672720f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8201e580db95e160e981fa672720f7e">&#9670;&nbsp;</a></span>CTL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OTG_T::CTL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >[0x0000] OTG Control Register <br  />
</p>
<p > 

<html><table class="fixed" border="1" style="border-collapse:collapse;" borderColor=black ><col width="75px" /><col width="125px" /><col width="700px" /><caption align="left"><font size="3">CTL
</font><br><p> <font size="2">
Offset: 0x00  OTG Control Register
</font></caption><thread><tr bgcolor="#8A0808" ><td><font color=white><b>Bits</b></font></td><td><font color=white><b>Field</b></font></td><td><font color=white><b>Descriptions</b></font></td></tr></thread><tbody>
<tr><td>
[0]</td><td>VBUSDROP</td><td><div style="word-wrap: break-word;"><b>Drop VBUS Control
</b><br>
If user application running on this OTG A-device wants to conserve power, set this bit to drop VBUS
<br>
BUSREQ (OTG_CTL[1]) will be also cleared no matter A-device or B-device.
<br>
0 = Not drop the VBUS.
<br>
1 = Drop the VBUS.
<br>
</div></td></tr><tr><td>
[1]</td><td>BUSREQ</td><td><div style="word-wrap: break-word;"><b>OTG Bus Request
</b><br>
If OTG A-device wants to do data transfers via USB bus, setting this bit will drive VBUS high to detect USB device connection
<br>
If user won't use the bus any more, clearing this bit will drop VBUS to save power
<br>
This bit will be cleared when A-device goes to A_wait_vfall state
<br>
This bit will be also cleared if VBUSDROP (OTG_CTL[0]) bit is set or IDSTS (OTG_STATUS[1]) changed.
<br>
If user of an OTG-B Device wants to request VBUS, setting this bit will run SRP protocol
<br>
This bit will be cleared if SRP failure (OTG A-device does not provide VBUS after B-device issues ARP in specified interval, defined in OTG specification)
<br>
This bit will be also cleared if VBUSDROP (OTG_CTL[0]) bit is set IDSTS (OTG_STATUS[1]) changed.
<br>
0 = Not launch VBUS in OTG A-device or not request SRP in OTG B-device.
<br>
1 = Launch VBUS in OTG A-device or request SRP in OTG B-device.
<br>
</div></td></tr><tr><td>
[2]</td><td>HNPREQEN</td><td><div style="word-wrap: break-word;"><b>OTG HNP Request Enable Bit
</b><br>
When USB frame as A-device, set this bit when A-device allows to process HNP protocol -- A-device changes role from Host to Peripheral
<br>
This bit will be cleared when OTG state changes from a_suspend to a_peripheral or goes back to a_idle state
<br>
When USB frame as B-device, set this bit after the OTG A-device successfully sends a SetFeature (b_hnp_enable) command to the OTG B-device to start role change -- B-device changes role from Peripheral to Host
<br>
This bit will be cleared when OTG state changes from b_peripheral to b_wait_acon or goes back to b_idle state.
<br>
0 = HNP request Disabled.
<br>
1 = HNP request Enabled (A-device can change role from Host to Peripheral or B-device can change role from Peripheral to Host).
<br>
Note: Refer to OTG specification to get a_suspend, a_peripheral, a_idle and b_idle state.
<br>
</div></td></tr><tr><td>
[4]</td><td>OTGEN</td><td><div style="word-wrap: break-word;"><b>OTG Function Enable Bit
</b><br>
User needs to set this bit to enable OTG function while USB frame configured as OTG device
<br>
When USB frame not configured as OTG device, this bit is must be low.
<br>
0= OTG function Disabled.
<br>
1 = OTG function Enabled.
<br>
</div></td></tr><tr><td>
[5]</td><td>WKEN</td><td><div style="word-wrap: break-word;"><b>OTG ID Pin Wake-up Enable Bit
</b><br>
0 = OTG ID pin status change wake-up function Disabled.
<br>
1 = OTG ID pin status change wake-up function Enabled.
<br>
</div></td></tr></tbody></table></html>

 </p>

<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00523">523</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>

</div>
</div>
<a id="aa3147fae693f8959bf4c0fad5fda4469" name="aa3147fae693f8959bf4c0fad5fda4469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3147fae693f8959bf4c0fad5fda4469">&#9670;&nbsp;</a></span>INTEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OTG_T::INTEN</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >[0x0008] OTG Interrupt Enable Register <br  />
</p>
<p > 

<html><table class="fixed" border="1" style="border-collapse:collapse;" borderColor=black ><col width="75px" /><col width="125px" /><col width="700px" /><caption align="left"><font size="3">INTEN
</font><br><p> <font size="2">
Offset: 0x08  OTG Interrupt Enable Register
</font></caption><thread><tr bgcolor="#8A0808" ><td><font color=white><b>Bits</b></font></td><td><font color=white><b>Field</b></font></td><td><font color=white><b>Descriptions</b></font></td></tr></thread><tbody>
<tr><td>
[0]</td><td>ROLECHGIEN</td><td><div style="word-wrap: break-word;"><b>Role (Host or Peripheral) Changed Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[1]</td><td>VBEIEN</td><td><div style="word-wrap: break-word;"><b>VBUS Error Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
Note: VBUS error means going to a_vbus_err state. Please refer to A-device state diagram in OTG spec.
<br>
</div></td></tr><tr><td>
[2]</td><td>SRPFIEN</td><td><div style="word-wrap: break-word;"><b>SRP Fail Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[3]</td><td>HNPFIEN</td><td><div style="word-wrap: break-word;"><b>HNP Fail Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[4]</td><td>GOIDLEIEN</td><td><div style="word-wrap: break-word;"><b>OTG Device Goes to IDLE State Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
Note: Going to idle state means going to a_idle or b_idle state
<br>
Please refer to A-device state diagram and B-device state diagram in OTG spec.
<br>
</div></td></tr><tr><td>
[5]</td><td>IDCHGIEN</td><td><div style="word-wrap: break-word;"><b>IDSTS Changed Interrupt Enable Bit
</b><br>
If this bit is set to 1 and IDSTS (OTG_STATUS[1]) status is changed from high to low or from low to high, a interrupt will be asserted.
<br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[6]</td><td>PDEVIEN</td><td><div style="word-wrap: break-word;"><b>Act As Peripheral Interrupt Enable Bit
</b><br>
If this bit is set to 1 and the device is changed as a peripheral, a interrupt will be asserted.
<br>
0 = This device as a peripheral interrupt Disabled.
<br>
1 = This device as a peripheral interrupt Enabled.
<br>
</div></td></tr><tr><td>
[7]</td><td>HOSTIEN</td><td><div style="word-wrap: break-word;"><b>Act As Host Interrupt Enable Bit
</b><br>
If this bit is set to 1 and the device is changed as a host, a interrupt will be asserted.
<br>
0 = This device as a host interrupt Disabled.
<br>
1 = This device as a host interrupt Enabled.
<br>
</div></td></tr><tr><td>
[8]</td><td>BVLDCHGIEN</td><td><div style="word-wrap: break-word;"><b>B-device Session Valid Status Changed Interrupt Enable Bit
</b><br>
If this bit is set to 1 and BVLD (OTG_STATUS[3]) status is changed from high to low or from low to high, a interrupt will be asserted.
<br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[9]</td><td>AVLDCHGIEN</td><td><div style="word-wrap: break-word;"><b>A-device Session Valid Status Changed Interrupt Enable Bit
</b><br>
If this bit is set to 1 and AVLD (OTG_STATUS[4]) status is changed from high to low or from low to high, a interrupt will be asserted.
<br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[10]</td><td>VBCHGIEN</td><td><div style="word-wrap: break-word;"><b>VBUSVLD Status Changed Interrupt Enable Bit
</b><br>
If this bit is set to 1 and VBUSVLD (OTG_STATUS[5]) status is changed from high to low or from low to high, a interrupt will be asserted.
<br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[11]</td><td>SECHGIEN</td><td><div style="word-wrap: break-word;"><b>SESSEND Status Changed Interrupt Enable Bit
</b><br>
If this bit is set to 1 and SESSEND (OTG_STATUS[2]) status is changed from high to low or from low to high, a interrupt will be asserted.
<br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr><tr><td>
[13]</td><td>SRPDETIEN</td><td><div style="word-wrap: break-word;"><b>SRP Detected Interrupt Enable Bit
</b><br>
0 = Interrupt Disabled.
<br>
1 = Interrupt Enabled.
<br>
</div></td></tr></tbody></table></html>

 </p>

<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00525">525</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>

</div>
</div>
<a id="a4c890b82ada7d4f82e7432e898009eff" name="a4c890b82ada7d4f82e7432e898009eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c890b82ada7d4f82e7432e898009eff">&#9670;&nbsp;</a></span>INTSTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OTG_T::INTSTS</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >[0x000c] OTG Interrupt Status Register <br  />
</p>
<p > 

<html><table class="fixed" border="1" style="border-collapse:collapse;" borderColor=black ><col width="75px" /><col width="125px" /><col width="700px" /><caption align="left"><font size="3">INTSTS
</font><br><p> <font size="2">
Offset: 0x0C  OTG Interrupt Status Register
</font></caption><thread><tr bgcolor="#8A0808" ><td><font color=white><b>Bits</b></font></td><td><font color=white><b>Field</b></font></td><td><font color=white><b>Descriptions</b></font></td></tr></thread><tbody>
<tr><td>
[0]</td><td>ROLECHGIF</td><td><div style="word-wrap: break-word;"><b>OTG Role Change Interrupt Status
</b><br>
This flag is set when the role of an OTG device changed from a host to a peripheral, or changed from a peripheral to a host while USB_ID pin status does not change.
<br>
0 = OTG device role not changed.
<br>
1 = OTG device role changed.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[1]</td><td>VBEIF</td><td><div style="word-wrap: break-word;"><b>VBUS Error Interrupt Status
</b><br>
This bit will be set when voltage on VBUS cannot reach a minimum valid threshold 4.4V within a maximum time of 100ms after OTG A-device starting to drive VBUS high.
<br>
0 = OTG A-device drives VBUS over threshold voltage before this interval expires.
<br>
1 = OTG A-device cannot drive VBUS over threshold voltage before this interval expires.
<br>
Note: Write 1 to clear this flag and recover from the VBUS error state.
<br>
</div></td></tr><tr><td>
[2]</td><td>SRPFIF</td><td><div style="word-wrap: break-word;"><b>SRP Fail Interrupt Status
</b><br>
After initiating SRP, an OTG B-device will wait for the OTG A-device to drive VBUS high at least TB_SRP_FAIL minimum, defined in OTG specification
<br>
This flag is set when the OTG B-device does not get VBUS high after this interval.
<br>
0 = OTG B-device gets VBUS high before this interval.
<br>
1 = OTG B-device does not get VBUS high before this interval.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[3]</td><td>HNPFIF</td><td><div style="word-wrap: break-word;"><b>HNP Fail Interrupt Status
</b><br>
When A-device has granted B-device to be host and USB bus is in SE0 (both USB_D+ and USB_D- low) state, this bit will be set when A-device does not connect after specified interval expires.
<br>
0 = A-device connects to B-device before specified interval expires.
<br>
1 = A-device does not connect to B-device before specified interval expires.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[4]</td><td>GOIDLEIF</td><td><div style="word-wrap: break-word;"><b>OTG Device Goes to IDLE Interrupt Status
</b><br>
Flag is set if the OTG device transfers from non-idle state to idle state
<br>
The OTG device will be neither a host nor a peripheral.
<br>
0 = OTG device does not go back to idle state (a_idle or b_idle).
<br>
1 = OTG device goes back to idle state(a_idle or b_idle).
<br>
Note 1: Going to idle state means going to a_idle or b_idle state. Please refer to OTG specification.
<br>
Note 2: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[5]</td><td>IDCHGIF</td><td><div style="word-wrap: break-word;"><b>ID State Change Interrupt Status
</b><br>
0 = IDSTS (OTG_STATUS[1]) not toggled.
<br>
1 = IDSTS (OTG_STATUS[1]) from high to low or from low to high.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[6]</td><td>PDEVIF</td><td><div style="word-wrap: break-word;"><b>Act As Peripheral Interrupt Status
</b><br>
0= This device does not act as a peripheral.
<br>
1 = This device acts as a peripheral.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[7]</td><td>HOSTIF</td><td><div style="word-wrap: break-word;"><b>Act As Host Interrupt Status
</b><br>
0= This device does not act as a host.
<br>
1 = This device acts as a host.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[8]</td><td>BVLDCHGIF</td><td><div style="word-wrap: break-word;"><b>B-device Session Valid State Change Interrupt Status
</b><br>
0 = BVLD (OTG_STATUS[3]) is not toggled.
<br>
1 = BVLD (OTG_STATUS[3]) from high to low or low to high.
<br>
Note: Write 1 to clear this status.
<br>
</div></td></tr><tr><td>
[9]</td><td>AVLDCHGIF</td><td><div style="word-wrap: break-word;"><b>A-device Session Valid State Change Interrupt Status
</b><br>
0 = AVLD (OTG_STATUS[4]) not toggled.
<br>
1 = AVLD (OTG_STATUS[4]) from high to low or low to high.
<br>
Note: Write 1 to clear this status.
<br>
</div></td></tr><tr><td>
[10]</td><td>VBCHGIF</td><td><div style="word-wrap: break-word;"><b>VBUSVLD State Change Interrupt Status
</b><br>
0 = VBUSVLD (OTG_STATUS[5]) not toggled.
<br>
1 = VBUSVLD (OTG_STATUS[5]) from high to low or from low to high.
<br>
Note: Write 1 to clear this status.
<br>
</div></td></tr><tr><td>
[11]</td><td>SECHGIF</td><td><div style="word-wrap: break-word;"><b>SESSEND State Change Interrupt Status
</b><br>
0 = SESSEND (OTG_STATUS[2]) not toggled.
<br>
1 = SESSEND (OTG_STATUS[2]) from high to low or from low to high.
<br>
Note: Write 1 to clear this flag.
<br>
</div></td></tr><tr><td>
[13]</td><td>SRPDETIF</td><td><div style="word-wrap: break-word;"><b>SRP Detected Interrupt Status
</b><br>
0 = SRP not detected.
<br>
1 = SRP detected.
<br>
Note: Write 1 to clear this status.
<br>
</div></td></tr></tbody></table></html>

 </p>

<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00526">526</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>

</div>
</div>
<a id="ad15859fd42ac83454dea02717824ab1f" name="ad15859fd42ac83454dea02717824ab1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15859fd42ac83454dea02717824ab1f">&#9670;&nbsp;</a></span>PHYCTL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OTG_T::PHYCTL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >[0x0004] OTG PHY Control Register <br  />
</p>
<p > 

<html><table class="fixed" border="1" style="border-collapse:collapse;" borderColor=black ><col width="75px" /><col width="125px" /><col width="700px" /><caption align="left"><font size="3">PHYCTL
</font><br><p> <font size="2">
Offset: 0x04  OTG PHY Control Register
</font></caption><thread><tr bgcolor="#8A0808" ><td><font color=white><b>Bits</b></font></td><td><font color=white><b>Field</b></font></td><td><font color=white><b>Descriptions</b></font></td></tr></thread><tbody>
<tr><td>
[0]</td><td>OTGPHYEN</td><td><div style="word-wrap: break-word;"><b>OTG PHY Enable
</b><br>
When USB frame is configured as OTG-device or ID-dependent, user needs to set this bit before using OTG function
<br>
If device is not configured as OTG-device nor ID-dependent , this bit is "don't care".
<br>
0 = OTG PHY Disabled.
<br>
1 = OTG PHY Enabled.
<br>
</div></td></tr><tr><td>
[1]</td><td>IDDETEN</td><td><div style="word-wrap: break-word;"><b>ID Detection Enable Bit
</b><br>
0 = Detect ID pin status Disabled.
<br>
1 = Detect ID pin status Enabled.
<br>
</div></td></tr><tr><td>
[4]</td><td>VBENPOL</td><td><div style="word-wrap: break-word;"><b>Off-chip USB VBUS Power Switch Enable Polarity
</b><br>
The OTG controller will enable off-chip USB VBUS power switch to provide VBUS power when need
<br>
A USB_VBUS_EN pin is used to control the off-chip USB VBUS power switch.
<br>
The polarity of enabling off-chip USB VBUS power switch (high active or low active) depends on the selected component
<br>
Set this bit as following according to the polarity of off-chip USB VBUS power switch.
<br>
0 = The off-chip USB VBUS power switch enable is active high.
<br>
1 = The off-chip USB VBUS power switch enable is active low.
<br>
</div></td></tr><tr><td>
[5]</td><td>VBSTSPOL</td><td><div style="word-wrap: break-word;"><b>Off-chip USB VBUS Power Switch Status Polarity
</b><br>
The polarity of off-chip USB VBUS power switch valid signal depends on the selected component
<br>
A USB_VBUS_ST pin is used to monitor the valid signal of the off-chip USB VBUS power switch
<br>
Set this bit as following according to the polarity of off-chip USB VBUS power switch.
<br>
0 = The polarity of off-chip USB VBUS power switch valid status is high.
<br>
1 = The polarity of off-chip USB VBUS power switch valid status is low.
<br>
</div></td></tr></tbody></table></html>

 </p>

<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00524">524</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>

</div>
</div>
<a id="a192b93dd7aee7289b5e0ccb39bb3038f" name="a192b93dd7aee7289b5e0ccb39bb3038f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192b93dd7aee7289b5e0ccb39bb3038f">&#9670;&nbsp;</a></span>STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OTG_T::STATUS</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >[0x0010] OTG Status Register <br  />
</p>
<p > 

<html><table class="fixed" border="1" style="border-collapse:collapse;" borderColor=black ><col width="75px" /><col width="125px" /><col width="700px" /><caption align="left"><font size="3">STATUS
</font><br><p> <font size="2">
Offset: 0x10  OTG Status Register
</font></caption><thread><tr bgcolor="#8A0808" ><td><font color=white><b>Bits</b></font></td><td><font color=white><b>Field</b></font></td><td><font color=white><b>Descriptions</b></font></td></tr></thread><tbody>
<tr><td>
[0]</td><td>OVERCUR</td><td><div style="word-wrap: break-word;"><b>over Current Condition
</b><br>
The voltage on VBUS cannot reach a minimum VBUS valid threshold, 4.4V minimum, within a maximum time of 100ms after OTG A-device drives VBUS high.
<br>
0 = OTG A-device drives VBUS successfully.
<br>
1 = OTG A-device cannot drives VBUS high in this interval.
<br>
</div></td></tr><tr><td>
[1]</td><td>IDSTS</td><td><div style="word-wrap: break-word;"><b>USB_ID Pin State of Mini-b/Micro-plug
</b><br>
0 = Mini-A/Micro-A plug is attached.
<br>
1 = Mini-B/Micro-B plug is attached.
<br>
</div></td></tr><tr><td>
[2]</td><td>SESSEND</td><td><div style="word-wrap: break-word;"><b>Session End Status
</b><br>
When VBUS voltage is lower than 0.4V, this bit will be set to 1
<br>
Session end means no meaningful power on VBUS.
<br>
0 = Session is not end.
<br>
1 = Session is end.
<br>
</div></td></tr><tr><td>
[3]</td><td>BVLD</td><td><div style="word-wrap: break-word;"><b>B-device Session Valid Status
</b><br>
0 = B-device session is not valid.
<br>
1 = B-device session is valid.
<br>
</div></td></tr><tr><td>
[4]</td><td>AVLD</td><td><div style="word-wrap: break-word;"><b>A-device Session Valid Status
</b><br>
0 = A-device session is not valid.
<br>
1 = A-device session is valid.
<br>
</div></td></tr><tr><td>
[5]</td><td>VBUSVLD</td><td><div style="word-wrap: break-word;"><b>VBUS Valid Status
</b><br>
When VBUS is larger than 4.7V, this bit will be set to 1.
<br>
0 = VBUS is not valid.
<br>
1 = VBUS is valid.
<br>
</div></td></tr><tr><td>
[6]</td><td>ASPERI</td><td><div style="word-wrap: break-word;"><b>As Peripheral Status
</b><br>
When OTG as peripheral, this bit is set.
<br>
0: OTG not as peripheral
<br>
1: OTG as peripheral
<br>
</div></td></tr><tr><td>
[7]</td><td>ASHOST</td><td><div style="word-wrap: break-word;"><b>As Host Status
</b><br>
When OTG as Host, this bit is set.
<br>
0: OTG not as Host
<br>
1: OTG as Host
<br>
</div></td></tr></tbody></table></html>

 </p>

<p class="definition">Definition at line <a class="el" href="otg__reg_8h_source.html#l00527">527</a> of file <a class="el" href="otg__reg_8h_source.html">otg_reg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>Library/Device/Nuvoton/M480/Include/<a class="el" href="otg__reg_8h_source.html">otg_reg.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 18 2025 10:07:26 for M480 BSP by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
